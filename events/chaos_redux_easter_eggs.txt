add_namespace = chaos_redux.easter_egg


# Army Threat for democratic countries; Civil war
country_event = {
	id = chaos_redux.easter_egg.1
	title = chaos_redux.easter_egg.1.t
	desc = chaos_redux.easter_egg.1.d
	picture = GFX_report_event_polish_army
		
	trigger = {
		has_civil_war = no
		has_government = democratic
		fascism > 0.30
		has_stability < 0.15
		threat > 0.10 # checks for world tension
	}
	
	mean_time_to_happen = {
		days = 100 # base mean time 1(100%)/days
		modifier = { # 100% less likely if at war
			factor = 2.00
			has_war = yes
		}
    }
	option = { # Cool down the situation
		name = chaos_redux.easter_egg.1.a
		ai_chance = { factor = 60 }
		add_war_support = -0.10
		add_stability = -0.10
		add_political_power = -100
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
	}
	option = { # Start civil war
		name = chaos_redux.easter_egg.1.b
		ai_chance = { factor = 10 }
		add_war_support = 0.20
		add_political_power = 150
		add_popularity = {
			ideology = democratic
			popularity = 0.10
		}
		hidden_effect = { # not shown in tooltip
			add_popularity = {
				ideology = fascism
				popularity = -1.00
			}
		}
		start_civil_war = {
			ideology = fascism
			size = party_popularity@fascism # this will make the size equal to the popularity of fascism
		}			
	}
	option = { # Give up
		name = chaos_redux.easter_egg.1.c
		ai_chance = { factor = 30 }
		add_stability = -0.10
		set_politics = {
            ruling_party = fascism
            elections_allowed = no
        }
		add_popularity = {
			ideology = democratic
			popularity = -0.10
		}
	}
}
# Workers strike communism uprising; Civil war
country_event = {
	id = chaos_redux.easter_egg.2
	title = chaos_redux.easter_egg.2.t
	desc = chaos_redux.easter_egg.2.d
	picture = GFX_report_event_worker_protests
	
	trigger = {
		has_civil_war = no
		NOT = { has_government = communism }
		communism > 0.30
		has_stability < 0.15
	}
	
	mean_time_to_happen = {
		days = 100 # base mean time 1(100%)/days
		modifier = { # 100% less likely if at war
			factor = 2
			has_war = yes
		}
    }
	option = { # Cool down the situation
		name = chaos_redux.easter_egg.2.a
		ai_chance = { factor = 30 }
		add_war_support = -0.10
		add_stability = -0.10
		add_political_power = -100
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}
	option = { # Start civil war
		name = chaos_redux.easter_egg.2.b
		ai_chance = { factor = 20 }
		add_war_support = 0.10
		add_political_power = 100
		hidden_effect = {
			
			add_popularity = {
				ideology = communism
				popularity = -1.00
			}
		}
		start_civil_war = {
			ideology = communism
			size = 0.40
		}
	}
	option = { # Give up
		name = chaos_redux.easter_egg.2.c
		ai_chance = { factor = 50 }
		add_stability = -0.10
		add_popularity = {
			ideology = communism
			popularity = 0.30
		}
		set_politics = {
            ruling_party = communism
            elections_allowed = no
        }
	}
}
# Freedom shall return, democrats take over; Civil war
country_event = {
	id = chaos_redux.easter_egg.3
	title = chaos_redux.easter_egg.3.t
	desc = chaos_redux.easter_egg.3.d
	picture = GFX_report_event_ITA_democratic_parlament
	
	trigger = {
		has_civil_war = no
		has_war = yes
		NOT = { has_government = democratic }
		democratic > 0.05
		has_war_support < party_popularity@democratic # this will make the size equal to the popularity of democracy
	}
	
	mean_time_to_happen = {
		days = 100 # base mean time 1(100%)/days
		modifier = { # 100% less likely if at war
			factor = 2.00 # multiplication
			has_war = yes
		}
    }
	option = { # Start civil war
		name = chaos_redux.easter_egg.3.a
		ai_chance = { factor = 50 }
		add_war_support = 0.10
		add_political_power = 100
		hidden_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -1.00
			}
		}
		start_civil_war = {
			ideology = democratic
			size = 0.40
		}
	}
	option = { # Give up
		name = chaos_redux.easter_egg.3.b
		ai_chance = { factor = 50 }
		add_stability = -0.10
		add_popularity = {
			ideology = democratic
			popularity = 0.30
		}
		set_politics = {
            ruling_party = democratic
            elections_allowed = yes
        }
	}
}
# Neutrality; Civil war
country_event = {
	id = chaos_redux.easter_egg.4
	title = chaos_redux.easter_egg.4.t
	desc = chaos_redux.easter_egg.4.d
	picture = GFX_report_event_generic_ruins
	
	trigger = {
		has_civil_war = no
		NOT = { has_government = neutrality }
		neutrality > 0.05
		threat > 0.20
		has_war_support < 0.20
		has_stability < 0.20
		has_war = yes
	}
	
	mean_time_to_happen = {
		days = 100 # base mean time 1(100%)/days
		modifier = { # 100% less likely if at war
			factor = 2.00
			has_war = yes
		}
    }
	option = { # Start civil war
		name = chaos_redux.easter_egg.4.a
		ai_chance = { factor = 50 }
		add_war_support = 0.10
		add_political_power = 100
		hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -1.00
			}
		}
		start_civil_war = {
			ideology = neutrality
			size = 0.30
		}
	}
	option = { # Give up
		name = chaos_redux.easter_egg.4.b
		ai_chance = { factor = 50 }
		add_stability = -0.10
		add_popularity = {
			ideology = neutrality
			popularity = 0.30
		}
		set_politics = {
            ruling_party = neutrality
            elections_allowed = no
        }
	}
}
# Communist strikes; damage to buildings
country_event = {
	id = chaos_redux.easter_egg.5
	title = chaos_redux.easter_egg.5.t
	desc = chaos_redux.easter_egg.5.d
	picture = GFX_report_event_FIN_helsinki_bombed
	
	trigger = {
		NOT = { has_government = communism }
		communism > 0.10
		has_stability < 0.40
		threat > 0.10
	}
	
	mean_time_to_happen = {
		days = 20 # base mean time 1(100%)/days
    }
	
	option = { # OK 
		name = chaos_redux.easter_egg.5.a
		ai_chance = { factor = 50 }
		add_manpower = -200
		random_list = {
			33 = {
				THIS = {
					random_owned_controlled_state = {
						damage_building = {
							type = arms_factory
							damage = 2.00
						}
					}
				}
			} 33 = {
				THIS = {
					random_owned_controlled_state = {
						damage_building = {
							type = infrastructure
							damage = 2.00
						}
					}
				}
			} 33 = {
				THIS = {
					random_owned_controlled_state = {
						damage_building = {
							type = industrial_complex
							damage = 2.00
						}
					}
				}
			}
		}
		hidden_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.005
			}
		}
	}
	option = { # By force
		name = chaos_redux.easter_egg.5.b
		ai_chance = { factor = 50 }
		add_stability = -0.05
		add_political_power = -50
		add_manpower = -5000
		add_popularity = {
			ideology = communism
			popularity = -0.02
		}
	}
}

# Chamberlain is back
country_event = {
	id = chaos_redux.easter_egg.6
	title = chaos_redux.easter_egg.6.t
	desc = chaos_redux.easter_egg.6.d
	picture = GFX_report_event_chamberlain
	
	fire_only_once = yes
	
	trigger = {
		tag = ENG
		has_government = democratic
		has_war_with = GER
		date > 1942.9.11
	}
	mean_time_to_happen = {
		days = 20
    }
	
	option = {
		name = chaos_redux.easter_egg.6.a
		add_political_power = 100
		ai_chance = { factor = 60 }
		retire_country_leader = yes
		create_country_leader = {
        	name = "Chamberlain The Immortal"
        	desc = "POLITICS_NEVILLE_CHAMBERLAIN_DESC"
			picture = GFX_portrait_ENG_neville_chamberlain_immortal
        	expire = "1965.1.1"
        	ideology = conservatism
			traits = { rearmer war_industrialist dictator legitimate_heir }
		}
		hidden_effect = {
			news_event = { id = chaos_redux.news.1 days = 2 }
		}
	}
	option = {
		name = chaos_redux.easter_egg.6.b
		ai_chance = { factor = 40 }
		news_event = { id = chaos_redux.news.2 days = 2 }
	}
}